---
layout: post
title: "11723번) 집합"
date:   2019-01-24
categories: [Algorithm]
icon: icon-cplusplus
---

# 문제
비어있는 공집합 S가 주어졌을 때, 아래 연산을 수행하는 프로그램을 작성하시오.

* add x: S에 x를 추가한다. (1 ≤ x ≤ 20) S에 x가 이미 있는 경우에는 연산을 무시한다.
* remove x: S에서 x를 제거한다. (1 ≤ x ≤ 20) S에 x가 없는 경우에는 연산을 무시한다.
* check x: S에 x가 있으면 1을, 없으면 0을 출력한다.
* toggle x: S에 x가 있으면 x를 제거하고, 없으면 x를 추가한다. (1 ≤ x ≤ 20)
* all: S를 {1, 2, ..., 20} 으로 바꾼다.
* empty: S를 공집합으로 바꾼다. 

[baekjoon](https://www.acmicpc.net/problem/11723)

<br>

# 코드
c++
```c++
#include "11723.h"
#include <iostream>
#include <string.h>
using namespace std;

void solve_11723() {
    int m, s;
    s = 0;
    scanf("%d", &m);

    for (int i = 0; i < m; i++) {
        char order[10];
        scanf("%s", order);
        int x = 0;

        if (!strcmp(order, "add")) {
            scanf("%d", &x);
            s |= (1 << x);
        } else if (!strcmp(order, "remove")) {
            scanf("%d", &x);
            s &= ~(1 << x);
        } else if (!strcmp(order, "check")) {
            scanf("%d", &x);
            printf("%d\n", s & (1 << x) ? 1 : 0);
        } else if (!strcmp(order, "toggle")) {
            scanf("%d", &x);
            if (s & (1 << x)) s &= ~(1 << x);
            else s |= (1 << x);
        } else if (!strcmp(order, "all")) {
            s = (1 << 22) - 1;
        } else {
            s = 0;
        }
    }
}
```

java
```java
import java.util.BitSet;
import java.util.Scanner;

public class 집합_11723 {
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int m = s.nextInt();
        s.nextLine();
        BitSet a = new BitSet(21);
        StringBuilder sb = new StringBuilder("");
        while (m > 0) {
            switch (s.next()) {
                case "add":
                    a.set(s.nextInt());
                    break;
                case "remove":
                    a.set(s.nextInt(), false);
                    break;
                case "check":
                    if (a.get(s.nextInt())) sb.append(1 + "\n");
                    else sb.append(0 + "\n");
                    break;
                case "toggle":
                    a.flip(s.nextInt());
                    break;
                case "all":
                    a.set(1, 21, true);
                    break;
                case "empty":
                    a.clear();
                    break;
            }
            m--;
        }
        System.out.println(sb.toString());
    }
}
```

<br>

# 풀이
비트마스크 개념을 연습해보려고 c++로 다시 풀어봤는데, I/O 때문에 짜증났다.. cin, cout에 너무 익숙해지면 안될 거 같다.

(이전 풀이)  
처음엔 배열로 만들었는데 계속 시간 초과가 떠서 BitSet으로 바꿨는데도 시간 초과가 났다. 출력을 쌓아뒀다가 한번에 하면 된다는 걸보고 StringBuilder를 썼더니 통과했다. 찾아보니 [System.out.println이 느린 이유](http://donggov.tistory.com/53)가 있었다.