---
layout: post
title: "1707번) 이분 그래프"
date:   2019-01-12
categories: [Algorithm]
icon: icon-java
---

# 문제
그래프의 정점의 집합을 둘로 분할하여, 각 집합에 속한 정점끼리는 서로 인접하지 않도록 분할할 수 있을 때, 그러한 그래프를 특별히 이분 그래프 (Bipartite Graph) 라 부른다.

그래프가 입력으로 주어졌을 때, 이 그래프가 이분 그래프인지 아닌지 판별하는 프로그램을 작성하시오. [baekjoon](https://www.acmicpc.net/problem/1707)

<br>

# 코드
```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.StringTokenizer;

public class 이분그래프_1707 {
    static ArrayList<Integer>[] graph;
    static int[] visitedGroup;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int k = Integer.parseInt(br.readLine());
        StringBuilder sb = new StringBuilder();
        while (k-- > 0) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            int v = Integer.parseInt(st.nextToken()), e = Integer.parseInt(st.nextToken());
            graph = new ArrayList[v + 1];
            visitedGroup = new int[v + 1];
            for (int i = 1; i <= v; i++) { graph[i] = new ArrayList<>(); }
            for (int i = 0; i < e; i++) {
                st = new StringTokenizer(br.readLine());
                int from = Integer.parseInt(st.nextToken()), to = Integer.parseInt(st.nextToken());
                graph[from].add(to);
                graph[to].add(from);
            }

            for (int i = 1; i <= v; i++) {
                if (visitedGroup[i] == 0) {
                    dfs(i, 1);
                }
            }

            boolean isBipartiteGraph = true;
            for (int i = 1; i <= v; i++) {
                if (isBipartiteGraph) {
                    for (int j : graph[i]) {
                        if (visitedGroup[i] == visitedGroup[j]) {
                            isBipartiteGraph = false;
                            break;
                        }
                    }
                }
            }
            sb.append((isBipartiteGraph ? "YES" : "NO") + "\n");
        }

        System.out.println(sb.deleteCharAt(sb.length() - 1));
    }

    static void dfs(int v, int group) {
        visitedGroup[v] = group;
        for (int connected : graph[v]) {
            if (visitedGroup[connected] == 0) {
                dfs(connected, (group == 1 ? 2 : 1));
            }
        }
    }
}
```

<br>

# 풀이
그래프는 인접 리스트로 표현했다. 양방향이기 때문에 from-to, to-from 방향 모두 간선을 넣어주었다.  
이분 그래프를 구분하는 방식은 방문한 정점에 대해서 그룹화하는 것이다. 방문하지 않으면 0, 방문한 그룹은 1 혹은 2로 기록된다. 현재 방문한 그룹이 1이면 그에 인접한 정점들은 2로 표시된다. 이런 방식으로 DFS를 수행한 후, 전체 그래프를 체크했을때 같은 그룹간의 간선이 존재하면 이분 그래프가 아님을 판단한다.
