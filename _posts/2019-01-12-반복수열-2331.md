---
layout: post
title: "2331번) 반복수열"
date:   2019-01-12
categories: [Algorithm]
icon: icon-java
---

# 문제
다음과 같이 정의된 수열이 있다.

* D[1] = A
* D[n] = D[n-1]의 각 자리의 숫자를 P번 곱한 수들의 합

예를 들어 A=57, P=2일 때, 수열 D는 {57, 74(=5^2+7^2=25+49), 65, 61, 37, 58, 89, 145, 42, 20, 4, 16, 37, …}이 된다. 그 뒤에는 앞서 나온 수들(57부터가 아니라 58부터)이 반복된다.

이와 같은 수열을 계속 구하다 보면 언젠가 이와 같은 반복수열이 된다. 이때, 반복되는 부분을 제외했을 때, 수열에 남게 되는 수들의 개수를 구하는 프로그램을 작성하시오. 위의 예에서는 {57, 74, 65, 61}의 네 개의 수가 남게 된다. [baekjoon](https://www.acmicpc.net/problem/2331)

<br>

# 코드
```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.StringTokenizer;

public class 반복수열_2331 {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        String a = st.nextToken();
        int p = Integer.parseInt(st.nextToken());
        br.close();

        HashMap<Integer, Integer> isExist = new HashMap<>();
        int index = 1;
        isExist.put(Integer.valueOf(a), index++);

        while (true) {
            int result = 0;
            for (int i = 0; i < a.length(); i++) {
                result += (int) Math.pow(Character.getNumericValue(a.charAt(i)), p);
            }

            if (isExist.containsKey(result)) {
                System.out.println(isExist.get(result) - 1);
                break;
            } else {
                a = String.valueOf(result);
                isExist.put(result, index++);
            }
        }
    }
}
```

<br>

# 풀이
한 번 중복이 발생하면 그 이후부터는 이전과 같은 수열이 등장할 수 밖에 없다.
